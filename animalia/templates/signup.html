<!DOCTYPE html>

<script src="../static/jquery.min.js"></script>

<html lang="en">
  <head>
    <title>Python Flask Bucket List App</title>
 
    
    <link href="../static/bootstrap.min.css" rel="stylesheet">
 
    <link href="../static/jumbotron-narrow.css" rel="stylesheet">
    <link href="../static/signup.css" rel="stylesheet">
    
  </head>
 
  <body>
 
    <div class="container">
      <div class="header">
        <nav>
          <ul class="nav nav-pills pull-right">
            <li role="presentation" ><a href="main">Home</a></li>
            <li role="presentation"><a href="#">Sign In</a></li>
            <li role="presentation" class="active"><a href="#">Sign Up</a></li>
          </ul>
        </nav>
        <h3 class="text-muted">Python Flask App</h3>
      </div>
 
      <div class="jumbotron">
        <h1>Bucket List App</h1>
        <form class="form-signin">
        <label for="input_name" class="sr-only">Name</label>
        <input type="name" name="username" id="input_username" class="form-control" placeholder="Name" required autofocus>
        <label for="input_email" class="sr-only">Email address</label>
        <input type="email" name="email" id="input_email" class="form-control" placeholder="Email address" required autofocus>
        <button id="btn_signup" class="btn btn-lg btn-primary btn-block" type="button">Sign up</button>
      </form>
      </div>
 
    </div>
  </body>
</html>

<script>

$(function() {
    $('#btn_signup').click(function() {

        var req_data = {};
        $.each($('form').serializeArray(), function (i, input) {
            req_data[input.name] = input.value;
        });
        
        $.ajax({
            type: 'POST',
            url: '/signup',
            data: JSON.stringify(req_data),
            contentType: 'application/json, charset=utf-8',
            success: function(data) {
                console.log(data);
            },
            error: function(error) {
                console.log(error);
            }
        });
    });
});

</script>
